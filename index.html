<!DOCTYPE html>
<html lang="fa">
<head>
<meta charset="UTF-8">
<title>Ø¢Ù¾Ù„ÙˆØ¯ ÙˆÛŒØ¯ÛŒÙˆ Ø±ÙˆÛŒ Pixeldrain</title>
</head>
<body style="font-family: sans-serif; direction: rtl;">

<h2>Ø¢Ù¾Ù„ÙˆØ¯ ÙˆÛŒØ¯ÛŒÙˆ Ø±ÙˆÛŒ Pixeldrain</h2>

<input type="file" id="fileInput" accept="video/*"><br><br>
<button onclick="upload()">Ø¢Ù¾Ù„ÙˆØ¯</button>

<p id="status"></p>
<p id="link"></p>

<script>
async function upload() {
    const file = document.getElementById("fileInput").files[0];
    if (!file) {
        alert("Ù„Ø·ÙØ§Ù‹ ÛŒÚ© ÙØ§ÛŒÙ„ Ø§Ù†ØªØ®Ø§Ø¨ Ú©Ù†ÛŒØ¯.");
        return;
    }

    document.getElementById("status").innerText = "Ø¯Ø± Ø­Ø§Ù„ Ø¢Ù¾Ù„ÙˆØ¯...";

    const formData = new FormData();
    formData.append("file", file);

    try {
        const response = await fetch("https://pixeldrain.com/api/file", {
            method: "POST",
            body: formData
        });

        if (!response.ok) throw new Error("Ø®Ø·Ø§ Ø¯Ø± Ø¢Ù¾Ù„ÙˆØ¯!");

        const result = await response.json();
        const link = `https://pixeldrain.com/u/${result.id}`;

        document.getElementById("status").innerText = "Ø¢Ù¾Ù„ÙˆØ¯ Ú©Ø§Ù…Ù„ Ø´Ø¯!";
        document.getElementById("link").innerHTML = `ğŸ”— Ù„ÛŒÙ†Ú© ÙØ§ÛŒÙ„: <a href="${link}" target="_blank">${link}</a>`;
    } catch (e) {
        console.error(e);
        document.getElementById("status").innerText = "Ø®Ø·Ø§ Ø¯Ø± Ø¢Ù¾Ù„ÙˆØ¯!";
    }
}
</script>

</body>
</html>
