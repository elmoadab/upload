<!DOCTYPE html>
<html lang="fa">
<head>
<meta charset="UTF-8">
<meta name="viewport" content="width=device-width, initial-scale=1.0">
<title>کلاس ریاضی</title>
<style>
body { font-family: Arial; background: #4B0082; color: #fff; margin:0; padding:0;}
.container { max-width: 500px; margin: 50px auto; background: #5A2E8C; padding: 20px; border-radius: 10px; }
h1 { text-align:center; color: #FFD700; }
input, button { width: 100%; padding: 10px; margin: 10px 0; border-radius: 5px; border:none; }
button { background: #FFD700; color: #4B0082; font-weight: bold; cursor:pointer; }
button:hover { opacity:0.9; }
.task { background: #7B3F99; padding: 10px; margin: 10px 0; border-radius:5px; }
.task button { width: auto; padding:5px 10px; margin-top:5px; }
</style>
</head>
<body>

<div class="container" id="register-container">
  <h1>ثبت نام دانش‌آموز</h1>
  <input type="text" id="firstName" placeholder="نام">
  <input type="text" id="lastName" placeholder="نام خانوادگی">
  <button onclick="register()">ثبت نام</button>
</div>

<div class="container" id="tasks-container" style="display:none;">
  <h1>تکالیف</h1>
  <div id="tasks-list"></div>
</div>

<script>
// نمونه تکالیف
const tasks = [
  { title: "تمرین 1", answerType: "text", maxFiles: 1 },
  { title: "تمرین 2", answerType: "video", maxFiles: 2 }
];

function register() {
  const firstName = document.getElementById("firstName").value.trim();
  const lastName = document.getElementById("lastName").value.trim();
  if (!firstName || !lastName) { alert("نام و نام خانوادگی را وارد کنید"); return; }
  localStorage.setItem("firstName", firstName);
  localStorage.setItem("lastName", lastName);
  showTasks();
}

function showTasks() {
  document.getElementById("register-container").style.display = "none";
  document.getElementById("tasks-container").style.display = "block";
  const tasksList = document.getElementById("tasks-list");
  tasksList.innerHTML = "";
  tasks.forEach((task, idx) => {
    const div = document.createElement("div");
    div.className = "task";
    div.innerHTML = `<strong>${task.title}</strong> <br> نوع پاسخ: ${task.answerType} <br>
                     <button onclick="goUpload(${idx})">ارسال</button>`;
    tasksList.appendChild(div);
  });
}

function goUpload(taskIndex) {
  localStorage.setItem("currentTask", taskIndex);
  window.location.href = "upload.html";
}

// اگر دانش‌آموز قبلا ثبت نام کرده باشد
window.onload = function() {
  if(localStorage.getItem("firstName") && localStorage.getItem("lastName")) {
    showTasks();
  }
}
</script>

</body>
</html>
